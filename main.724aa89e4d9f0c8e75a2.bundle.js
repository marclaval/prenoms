webpackJsonp([1],{0:function(t,e,n){t.exports=n("cDNt")},"4MGG":function(t,e,n){"use strict";var i=n("/oeL"),r=n("BkNc"),a=n("mbbF"),o=n("PIaU");n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,i){this.dataService=t,this.configService=e,this.route=n,this.router=i,this.input=""}return t.prototype.ngOnInit=function(){var t=this;this.dataSource=this.route.paramMap.subscribe(function(e){t.input=e.get("n")||"Marc",t._refresh()}),this.subscription=this.configService.getChangeEmitter().subscribe(function(){t._refresh()})},t.prototype.update=function(){this.router.navigate(["/name",this.input])},t.prototype._refresh=function(){var t=this;this.dataService.getByName(this.input).then(function(e){return t.data=e,Promise.all([t.dataService.getBoundaries(),t.dataService.getStats()])}).then(function(e){var n=e[0],i=e[1];t.boundaries=n,t.stats=i})},t.prototype.ngOnDestroy=function(){this.dataSource.unsubscribe(),this.subscription.unsubscribe()},t}();u=c([n.i(i.e)({selector:"app-name",template:n("MtOA"),styles:[n("EJdu")]}),s("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(d=void 0!==r.d&&r.d)&&d||Object,"function"==typeof(l=void 0!==r.c&&r.c)&&l||Object])],u);var f,p,d,l},"96tQ":function(t,e,n){"use strict";var i=n("/oeL"),r=n("BkNc"),a=n("mbbF"),o=n("PIaU");n.d(e,"a",function(){return u});var c=this&&this.__decorate||function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,i){this.dataService=t,this.configService=e,this.route=n,this.router=i,this.inputBegin=2017,this.inputEnd=2017}return t.prototype.ngOnInit=function(){var t=this;this.dataSource=this.route.paramMap.subscribe(function(e){e.get("y")?t.inputBegin=t.inputEnd=parseInt(e.get("y"),0):e.get("b")&&e.get("e")?(t.inputBegin=parseInt(e.get("b"),0),t.inputEnd=parseInt(e.get("e"),0)):t.inputBegin=t.inputEnd=2017,t._refresh()}),this.subscription=this.configService.getChangeEmitter().subscribe(function(){t._refresh()})},t.prototype.update=function(){this.inputBegin===this.inputEnd?this.router.navigate(["/year",this.inputBegin]):this.router.navigate(["/year",this.inputBegin,this.inputEnd])},t.prototype._refresh=function(){var t=this;this.dataService.getByYears(this.inputBegin,this.inputEnd).then(function(e){return t.data=e.filter(function(t){return t.times>0}),Promise.all([t.dataService.getBoundaries(),t.dataService.getStats()])}).then(function(e){var n=e[0],i=e[1];t.boundaries=n;for(var r=0,a=t.inputBegin-n.begin;a<=t.inputEnd-n.begin;a++)r+=i[a];t.total=r})},t.prototype.ngOnDestroy=function(){this.dataSource.unsubscribe(),this.subscription.unsubscribe()},t}();u=c([n.i(i.e)({selector:"app-year",template:n("BrNX"),styles:[n("IyNz")]}),s("design:paramtypes",["function"==typeof(f=void 0!==a.a&&a.a)&&f||Object,"function"==typeof(p=void 0!==o.a&&o.a)&&p||Object,"function"==typeof(d=void 0!==r.d&&r.d)&&d||Object,"function"==typeof(l=void 0!==r.c&&r.c)&&l||Object])],u);var f,p,d,l},BrNX:function(t,e){t.exports='<form class="form-inline" (submit)="update()">\n  <div class="form-group">\n    <label for="beginYear">De</label>\n    <input [(ngModel)]="inputBegin" name="begin" type="number" id="beginYear" class="form-control mx-sm-3" [attr.min]="boundaries?.begin" [attr.max]="boundaries?.end" pattern="[0-9]{4}">\n    <label for="endYear">à</label>\n    <input [(ngModel)]="inputEnd" name="end" type="number" id="endYear" class="form-control mx-sm-3" [attr.min]="boundaries?.begin" [attr.max]="boundaries?.end" pattern="[0-9]{4}">\n    <button type="submit" class="btn btn-primary">Go</button>\n  </div>\n</form>\n\n<table>\n  <tr *ngFor="let item of data; let i = index">\n    <td>{{i + 1}}</td>\n    <td><a routerLink="/name/{{item.name}}">{{item.name}}</a></td>\n    <td>{{item.times}} <i>({{(100 * item.times / total).toFixed(2)}}%)</i></td></tr>\n</table>\n'},EJdu:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},IyNz:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},MtOA:function(t,e){t.exports='<form class="form-inline" (submit)="update()">\n  <div class="form-group">\n    <label for="search">Nom</label>\n    <input [(ngModel)]="input" name="name" type="text" id="search" class="form-control mx-sm-3" >\n    <button type="submit" class="btn btn-primary">Go</button>\n  </div>\n</form>\n\n<table>\n  <tr><th>Année</th><th *ngFor="let item of data">{{item.name}} ({{item.gender}})</th></tr>\n  <ng-template [ngIf]="data && data[0]">\n    <tr *ngFor="let item of data[0].years; let i = index">\n      <td><a routerLink="/year/{{boundaries.end - i}}">{{boundaries.end - i}}</a></td>\n      <td *ngFor="let item of data">{{item.years[data[0].years.length - i - 1]}}\n        <i>({{((item.years[data[0].years.length - i - 1]) / (stats[data[0].years.length - i - 1]) * 100).toFixed(2)}}%)</i></td>\n    </tr>\n  </ng-template>\n</table>\n'},PIaU:function(t,e,n){"use strict";var i=n("/oeL"),r=n("rlar");n.n(r);n.d(e,"a",function(){return o});var a=this&&this.__decorate||function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=function(){function t(){this.emitter=new r.Subject}return t.prototype.setGender=function(t){this.gender=t,this.emitter.next(t)},t.prototype.getGender=function(){return this.gender},t.prototype.getChangeEmitter=function(){return this.emitter},t}();o=a([n.i(i.c)()],o)},"aR8+":function(t,e,n){"use strict";var i=n("fc+i"),r=n("/oeL"),a=n("qbdv"),o=n("bm2B"),c=n("BkNc"),s=n("0WLp"),u=n("wQAS"),f=n("96tQ"),p=n("4MGG"),d=n("mbbF"),l=n("PIaU");n.d(e,"a",function(){return g});var b=this&&this.__decorate||function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},m=[{path:"",redirectTo:"/year",pathMatch:"full"},{path:"name",component:p.a},{path:"name/:n",component:p.a},{path:"year",component:f.a},{path:"year/:y",component:f.a},{path:"year/:b/:e",component:f.a}],g=function(){function t(t,e){}return t}();g=b([n.i(r.b)({declarations:[u.a,f.a,p.a],imports:[i.a,a.a,o.a,c.a.forRoot(m,{useHash:!0}),s.a],providers:[d.a,l.a],bootstrap:[u.a]}),h("design:paramtypes",["function"==typeof(v=void 0!==d.a&&d.a)&&v||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object])],g);var v,y},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/oeL"),r=n("Qa4U"),a=n("aR8+");n("p5Ee").a.production&&n.i(i.a)(),n.i(r.a)().bootstrapModule(a.a)},efyd:function(t,e){t.exports='<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse">\n  <div style="position: absolute; right: 0;">\n    <div [ngModel]="model" (ngModelChange)="onGenderChange($event)" ngbRadioGroup name="radioBasic">\n      <label class="btn btn-info">\n        <input type="radio" value="b"> Tous\n      </label>\n      <label class="btn btn-info">\n        <input type="radio" value="f"> Filles\n      </label>\n      <label class="btn btn-info">\n        <input type="radio" value="m"> Garçons\n      </label>\n    </div>\n  </div>\n  <div class="navbar-brand">Prénoms en France</div>\n  <div class="" id="navbarNav">\n    <ul class="navbar-nav">\n      <li class="nav-item" [ngClass]="{\'active\': activeTab === \'year\'}">\n        <a class="nav-link" [routerLink]="[\'/year\']">Par année</a>\n      </li>\n      <li class="nav-item" [ngClass]="{\'active\': activeTab === \'name\'}">\n        <a class="nav-link" [routerLink]="[\'/name\']">Par prénom</a>\n      </li>\n    </ul>\n  </div>\n</nav>\n\n<router-outlet></router-outlet>\n\n'},hxJY:function(t,e,n){e=t.exports=n("rP7Y")(!1),e.push([t.i,"",""]),t.exports=t.exports.toString()},mbbF:function(t,e,n){"use strict";var i=n("/oeL"),r=n("PIaU");n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t){this.configService=t,this.data=null}return t.prototype.getData=function(){var t=this;return new Promise(function(e,n){t.data?e(t.data):fetch("assets/data.json").then(function(t){return t.json()}).then(function(n){t.data=n,window.prenoms=n,e(t.data)}).catch(function(t){return n(t)})})},t.prototype.getByYears=function(t,e){var n=this;return new Promise(function(i,r){n.getData().then(function(r){var a=[],o=n.configService.getGender(),c=Object.keys(r.names),s=t?t-r.beginYear:0,u=e?e-r.beginYear:c.length-1;c.forEach(function(t){var e=r.names[t];if("b"===o||o===e.gender){for(var n=0,i=s;i<=u;i++)n+=e.years[i];a.push({name:e.name,gender:e.gender,times:n})}}),a.sort(function(t,e){return e.times-t.times!=0?e.times-t.times:e.name>t.name?-1:1}),i(a)}).catch(function(t){return r(t)})})},t.prototype.getByName=function(t){var e=this;return new Promise(function(n,i){e.getData().then(function(i){var r=[],a=e.configService.getGender();if("b"===a||"m"===a){var o=t.toUpperCase()+"_1";i.names.hasOwnProperty(o)&&r.push(i.names[o])}if("b"===a||"f"===a){var c=t.toUpperCase()+"_2";i.names.hasOwnProperty(c)&&r.push(i.names[c])}n(r)}).catch(function(t){return i(t)})})},t.prototype.getBoundaries=function(){var t=this;return new Promise(function(e,n){t.getData().then(function(t){e({begin:t.beginYear,end:t.endYear})}).catch(function(t){return n(t)})})},t.prototype.getStats=function(){var t=this;return new Promise(function(e,n){t.getData().then(function(n){var i=t.configService.getGender();e("b"===i?n.stats:"m"===i?n.statsM:n.statsF)}).catch(function(t){return n(t)})})},t}();c=a([n.i(i.c)(),o("design:paramtypes",["function"==typeof(s=void 0!==r.a&&r.a)&&s||Object])],c);var s},n7du:function(t,e){function n(t){throw new Error("Cannot find module '"+t+"'.")}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="n7du"},p5Ee:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i={production:!1}},wQAS:function(t,e,n){"use strict";var i=n("/oeL"),r=n("BkNc"),a=n("PIaU");n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,i){var r,a=arguments.length,o=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(o=(a<3?r(o):a>3?r(e,n,o):r(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t,e){this.config=t,this.router=e,this.model="b",this.activeTab="year",this.config.setGender(this.model)}return t.prototype.ngOnInit=function(){var t=this;this.subscription=this.router.events.subscribe(function(e){e instanceof r.b&&(t.activeTab=e.urlAfterRedirects.split("/")[1])})},t.prototype.onGenderChange=function(t){this.model=t,this.config.setGender(t)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t}();s=o([n.i(i.e)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),c("design:paramtypes",["function"==typeof(u=void 0!==a.a&&a.a)&&u||Object,"function"==typeof(f=void 0!==r.c&&r.c)&&f||Object])],s);var u,f}},[0]);